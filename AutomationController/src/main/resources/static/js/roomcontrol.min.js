$(document).ready(function(){function r(r){var i={};$(this).attr("id")==O.attr("id")?(i.isOn=!1,POST_ACTION(s,i,a)):(i.isOn=!0,POST_ACTION(s,i,a))}function i(r){var i={},n=r.toRgb();i.red=n.r,i.green=n.g,i.blue=n.b,$(this).attr("id")==v.attr("id")?POST_ACTION(l,i,a):POST_ACTION(m,i,a)}function n(r){for(var i=0;i<f.length;i++)if(f[i].ON.attr("id")==this.id||f[i].OFF.attr("id")==this.id){var n={};n.isOn=f[i].ON.attr("id")==this.id,POST_ACTION("outlet"+(i+1),n,a)}}function e(r,i){deviceNumber=parseInt(r.substring(6,r.length))-1,"true"==i||i===!0?(f[deviceNumber].ON.css("background-color","rgba(204, 204, 204, 1)"),f[deviceNumber].OFF.css("background-color","rgba(114, 114, 114, 1)")):(f[deviceNumber].OFF.css("background-color","rgba(204, 204, 204, 1)"),f[deviceNumber].ON.css("background-color","rgba(114, 114, 114, 1)"))}function t(r){p.css("background-color","rgba(114, 114, 114, 1)"),O.css("background-color","rgba(114, 114, 114, 1)"),r?(b.hide(),d.show(),p.css("background-color","rgba(204, 204, 204, 1)")):(d.hide(),b.show(),O.css("background-color","rgba(204, 204, 204, 1)"))}function o(r,i){var n={r:r[0],g:r[1],b:r[2]};i.spectrum("set",n)}function c(r,i,n){if(200==n.status)for(var c=0;c<r.length;c++)switch(r[c].name){case u:F.html(r[c].params.temperature+"&#x2109");break;case k:g.html(r[c].params.temperature+"&#x2109");break;case l:case m:var a=[];a[0]=r[c].params.red,a[1]=r[c].params.green,a[2]=r[c].params.blue,r[c].name==l?o(a,v):o(a,N);break;case s:t(r[c].params.isOn);break;default:-1!==r[c].name.indexOf("outlet")&&e(r[c].name,r[c].params.isOn)}else alert("Page not working")}function a(r,i,n){if(200==n.status){var o=jQuery.parseJSON(this.data);o.name==s?t(o.params.isOn?!0:!1):-1!==o.name.indexOf("outlet")&&e(o.name,o.params.isOn)}else alert("Page not working")}var s="switch2",l="led1",m="led2",u="temp_sensor1",k="weather_sensor1",p=$("#comp-iqsu3ucu"),O=$("#comp-ip1tqeyl"),b=$("#comp-irjh4j8timgimage"),d=$("#comp-iro86zrvimgimage"),g=$("#comp-irjh302u1inlineContent"),F=$("#comp-irjh1z0l1bg"),v=($("#comp-irkzi7ulinlineContent"),$("#comp-irkzi7ulinlineContent").spectrum({move:i,flat:!0,showInput:!0})),N=$("#comp-irlctnfxinlineContent").spectrum({move:i,flat:!0,showInput:!0}),f=[{ON:$("#comp-irkzl60elink"),OFF:$("#comp-irkzl60clink")},{ON:$("#comp-irkznzx2link"),OFF:$("#comp-irkznzx0link")},{ON:$("#comp-irkzqsmp1link"),OFF:$("#comp-irkzqsmolink")},{ON:$("#comp-irkzqs9b1link"),OFF:$("#comp-irkzqs9alink")},{ON:$("#comp-irkzqr1rlink"),OFF:$("#comp-irkzqr1plink")},{ON:$("#comp-irkzqrtz2link"),OFF:$("#comp-irkzqrtylink")},{ON:$("#comp-irl4umvylink"),OFF:$("#comp-irl4umvwlink")},{ON:$("#comp-irl4vrsflink"),OFF:$("#comp-irl4vrsdlink")},{ON:$("#comp-irl4vq6klink"),OFF:$("#comp-irl4vq6ilink")},{ON:$("#comp-irl4voahlink"),OFF:$("#comp-irl4voaflink")}];!function(){GET_STATES(c),O.button().click(r),p.button().click(r);for(var i=0;i<f.length;i++)f[i].ON.button().click(n),f[i].OFF.button().click(n);setInterval(function(){GET_STATES(c)},1e4)}()});