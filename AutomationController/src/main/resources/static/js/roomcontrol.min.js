$(document).ready(function(){function e(e){$(this).attr("id")==O.attr("id")?POST_ACTION(a,"false",l):POST_ACTION(a,"true",l)}function i(e){var i=e.toRgb();$(this).attr("id")==N.attr("id")?POST_ACTION(s,"red="+i.r+"&green="+i.g+"&blue="+i.b,l):POST_ACTION(u,"red="+i.r+"&green="+i.g+"&blue="+i.b,l)}function r(e){for(var i=0;i<f.length;i++)(f[i].ON.attr("id")==this.id||f[i].OFF.attr("id")==this.id)&&POST_ACTION("outlet"+(i+1),f[i].ON.attr("id")==this.id,l)}function t(e,i){deviceNumber=parseInt(e.substring(6,e.length))-1,"true"==i||i===!0?(f[deviceNumber].ON.css("background-color","rgba(204, 204, 204, 1)"),f[deviceNumber].OFF.css("background-color","rgba(114, 114, 114, 1)")):(f[deviceNumber].OFF.css("background-color","rgba(204, 204, 204, 1)"),f[deviceNumber].ON.css("background-color","rgba(114, 114, 114, 1)"))}function c(e){d.css("background-color","rgba(114, 114, 114, 1)"),O.css("background-color","rgba(114, 114, 114, 1)"),e?(p.hide(),b.show(),d.css("background-color","rgba(204, 204, 204, 1)")):(b.hide(),p.show(),O.css("background-color","rgba(204, 204, 204, 1)"))}function n(e,i){var r={r:e[0],g:e[1],b:e[2]};i.spectrum("set",r)}function o(e,i,r){if(200==r.status)for(var o=0;o<e.length;o++)switch(e[o].deviceName){case m:v.html(e[o].temperature+"&#x2109");break;case k:g.html(e[o].temperature+"&#x2109");break;case s:case u:var l=[];l[0]=e[o].red,l[1]=e[o].green,l[2]=e[o].blue,e[o].deviceName==s?n(l,N):n(l,F);break;case a:c(e[o].deviceOn);break;default:-1!==e[o].deviceName.indexOf("outlet")&&t(e[o].deviceName,e[o].deviceOn)}else alert("Page not working")}function l(e,i,r){if(200==r.status){var n=jQuery.parseJSON(this.data);n.device==a?c("true"==n.data?!0:!1):-1!==n.device.indexOf("outlet")&&t(n.device,n.data)}else alert("Page not working")}var a="switch2",s="led1",u="led2",m="temp_sensor1",k="weather_sensor1",d=$("#comp-iqsu3ucu"),O=$("#comp-ip1tqeyl"),p=$("#comp-irjh4j8timgimage"),b=$("#comp-iro86zrvimgimage"),g=$("#comp-irjh302u1inlineContent"),v=$("#comp-irjh1z0l1bg"),N=($("#comp-irkzi7ulinlineContent"),$("#comp-irkzi7ulinlineContent").spectrum({move:i,flat:!0,showInput:!0})),F=$("#comp-irlctnfxinlineContent").spectrum({move:i,flat:!0,showInput:!0}),f=[{ON:$("#comp-irkzl60elink"),OFF:$("#comp-irkzl60clink")},{ON:$("#comp-irkznzx2link"),OFF:$("#comp-irkznzx0link")},{ON:$("#comp-irkzqsmp1link"),OFF:$("#comp-irkzqsmolink")},{ON:$("#comp-irkzqs9b1link"),OFF:$("#comp-irkzqs9alink")},{ON:$("#comp-irkzqr1rlink"),OFF:$("#comp-irkzqr1plink")},{ON:$("#comp-irkzqrtz2link"),OFF:$("#comp-irkzqrtylink")},{ON:$("#comp-irl4umvylink"),OFF:$("#comp-irl4umvwlink")},{ON:$("#comp-irl4vrsflink"),OFF:$("#comp-irl4vrsdlink")},{ON:$("#comp-irl4vq6klink"),OFF:$("#comp-irl4vq6ilink")},{ON:$("#comp-irl4voahlink"),OFF:$("#comp-irl4voaflink")}];!function(){GET_STATES(o),O.button().click(e),d.button().click(e);for(var i=0;i<f.length;i++)f[i].ON.button().click(r),f[i].OFF.button().click(r);setInterval(function(){GET_STATES(o)},1e4)}()});