$(document).ready(function(){function r(r){var i={};$(this).attr("id")==O.attr("id")?(i.on=!1,POST_ACTION(l,i,c)):(i.on=!0,POST_ACTION(l,i,c))}function i(r){var i={},e=r.toRgb();i.red=e.r,i.green=e.g,i.blue=e.b,$(this).attr("id")==f.attr("id")?POST_ACTION(m,i,c):POST_ACTION(s,i,c)}function e(r){for(var i=0;i<v.length;i++)if(v[i].ON.attr("id")==this.id||v[i].OFF.attr("id")==this.id){var e={};e.on=v[i].ON.attr("id")==this.id,POST_ACTION("outlet"+(i+1),e,c)}}function n(r,i){deviceNumber=parseInt(r.substring(6,r.length))-1,"true"==i||i===!0?(v[deviceNumber].ON.css("background-color","rgba(204, 204, 204, 1)"),v[deviceNumber].OFF.css("background-color","rgba(114, 114, 114, 1)")):(v[deviceNumber].OFF.css("background-color","rgba(204, 204, 204, 1)"),v[deviceNumber].ON.css("background-color","rgba(114, 114, 114, 1)"))}function o(r){p.css("background-color","rgba(114, 114, 114, 1)"),O.css("background-color","rgba(114, 114, 114, 1)"),r?(d.hide(),b.show(),p.css("background-color","rgba(204, 204, 204, 1)")):(b.hide(),d.show(),O.css("background-color","rgba(204, 204, 204, 1)"))}function t(r,i){var e={r:r[0],g:r[1],b:r[2]};i.spectrum("set",e)}function a(r,i,e){if(200==e.status)for(var a=0;a<r.length;a++)switch(r[a].name){case u:F.html(r[a].params.temperature+"&#x2109");break;case k:g.html(r[a].params.temperature+"&#x2109");break;case m:case s:var c=[];c[0]=r[a].params.red,c[1]=r[a].params.green,c[2]=r[a].params.blue,r[a].name==m?t(c,f):t(c,h);break;case l:o(r[a].params.on);break;default:-1!==r[a].name.indexOf("outlet")&&n(r[a].name,r[a].params.on)}else alert("Page not working")}function c(r,i,e){if(200==e.status){var t=jQuery.parseJSON(this.data);t.name==l?o(t.params.on?!0:!1):-1!==t.name.indexOf("outlet")&&n(t.name,t.params.on)}else alert("Page not working")}var l="switch2",m="led1",s="led2",u="temp_sensor1",k="weather_sensor1",p=$("#comp-iqsu3ucu"),O=$("#comp-ip1tqeyl"),d=$("#comp-irjh4j8timgimage"),b=$("#comp-iro86zrvimgimage"),g=$("#comp-irjh302u1inlineContent"),F=$("#comp-irjh1z0l1bg"),f=($("#comp-irkzi7ulinlineContent"),$("#comp-irkzi7ulinlineContent").spectrum({preferredFormat:"hex",move:i,flat:!0,showInput:!0})),h=$("#comp-irlctnfxinlineContent").spectrum({preferredFormat:"hex",move:i,flat:!0,showInput:!0}),v=[{ON:$("#comp-irkzl60elink"),OFF:$("#comp-irkzl60clink")},{ON:$("#comp-irkznzx2link"),OFF:$("#comp-irkznzx0link")},{ON:$("#comp-irkzqsmp1link"),OFF:$("#comp-irkzqsmolink")},{ON:$("#comp-irkzqs9b1link"),OFF:$("#comp-irkzqs9alink")},{ON:$("#comp-irkzqr1rlink"),OFF:$("#comp-irkzqr1plink")},{ON:$("#comp-irkzqrtz2link"),OFF:$("#comp-irkzqrtylink")},{ON:$("#comp-irl4umvylink"),OFF:$("#comp-irl4umvwlink")},{ON:$("#comp-irl4vrsflink"),OFF:$("#comp-irl4vrsdlink")},{ON:$("#comp-irl4vq6klink"),OFF:$("#comp-irl4vq6ilink")},{ON:$("#comp-irl4voahlink"),OFF:$("#comp-irl4voaflink")}];!function(){GET_STATES(a),O.button().click(r),p.button().click(r);for(var i=0;i<v.length;i++)v[i].ON.button().click(e),v[i].OFF.button().click(e);setInterval(function(){GET_STATES(a)},1e4)}()});